{
  "toolName": "learn_mode",
  "description": "Example request for Learn Mode - Binary Search",
  "input": {
    "topic": "binary search",
    "difficulty": "normal",
    "depth": "normal",
    "exampleSize": "small",
    "showPatternKeywords": true,
    "showDryRun": true,
    "showPaperVersion": true
  },
  "expectedOutput": {
    "theTrick": "BINARY SEARCH = Divide search space in half each time. If you see 'sorted array' + 'find element' → it's binary search. Key: compare mid, then eliminate half.",
    "patternSignature": [
      "sorted array",
      "find element",
      "search in O(log n)",
      "rotated sorted",
      "first/last occurrence"
    ],
    "stepByStep": "1. Start with two pointers: left=0, right=len-1\n2. Calculate mid = (left + right) // 2\n3. Compare arr[mid] with target\n4. If arr[mid] == target → found! return mid\n5. If arr[mid] < target → search right half (left = mid + 1)\n6. If arr[mid] > target → search left half (right = mid - 1)\n7. Repeat until left > right (not found)",
    "memorableTemplate": "def binary_search(arr, target):\n    left, right = 0, len(arr) - 1  # KEY: right = len-1, not len\n    while left <= right:            # KEY: <= not <\n        mid = (left + right) // 2\n        if arr[mid] == target: return mid\n        elif arr[mid] < target: left = mid + 1\n        else: right = mid - 1\n    return -1",
    "code": "def binary_search(arr, target):\n    left = 0\n    right = len(arr) - 1\n    \n    while left <= right:\n        mid = (left + right) // 2\n        \n        if arr[mid] == target:\n            return mid\n        elif arr[mid] < target:\n            left = mid + 1\n        else:\n            right = mid - 1\n    \n    return -1",
    "dryRunTable": [
      { "iteration": "1", "variables": "left=0, right=4, mid=2", "state": "arr=[1,3,5,7,9], target=7", "action": "arr[2]=5 < 7 → left=3" },
      { "iteration": "2", "variables": "left=3, right=4, mid=3", "state": "checking arr[3]", "action": "arr[3]=7 == 7 → FOUND!" }
    ],
    "exampleWalkthrough": "Finding 7 in [1, 3, 5, 7, 9]:\n- Start: left=0, right=4\n- Iteration 1: mid=2, arr[2]=5 < 7, so search right half (left=3)\n- Iteration 2: mid=3, arr[3]=7 == 7, FOUND at index 3!",
    "whatProfessorsTest": "Empty array or target not present. Students forget to check 'if not arr: return -1' and crash on arr[mid]. Also: using < instead of <= in while loop causes missing the last element.",
    "paperSummary": [
      "USE WHEN: Sorted array + finding an element",
      "KEY DATA STRUCTURE: Two pointers (left, right)",
      "TIME: O(log n) - halving each time",
      "SPACE: O(1) - just pointers",
      "GOTCHA: Use 'left <= right' not 'left < right'"
    ]
  },
  "chatResponse": "Lesson ready! The AlgoTutor panel shows the binary search pattern with 'The Trick', signature keywords, memorizable template, and what professors test."
}
